<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin Settings | CICS AlertSOS</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Feather Icons -->
<script src="https://unpkg.com/feather-icons"></script>

<style>
  body {
    background: #f3f4f6;
  }

  input, select, textarea {
    border: 1px solid #d1d5db; /* border-gray-300 */
    border-radius: 0.5rem; /* rounded-lg */
    padding: 0.5rem 0.75rem; /* px-3 py-2 */
    width: 100%; /* w-full */
    outline: none;
    transition: box-shadow 0.2s ease, border-color 0.2s ease;
  }

  input:focus, select:focus, textarea:focus {
    border-color: #ef4444; /* focus:ring-red-500 */
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.4); /* focus:ring-2 */
  }

  label {
    font-size: 0.875rem; /* text-sm */
    font-weight: 600; /* font-semibold */
    color: #374151; /* text-gray-700 */
    display: block;
    margin-bottom: 0.25rem;
  }
</style>
</head>

<body class="bg-gray-100 font-sans">

  <!-- Navbar -->
  <custom-navbar></custom-navbar>

  <!-- Sidebar -->
  <custom-sidebar></custom-sidebar>

  <main class="pt-20 lg:pt-24 p-6 lg:ml-64 min-h-screen transition-all duration-300">
    <!-- Page Header -->
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-3xl font-bold text-gray-800 tracking-tight flex items-center gap-2">
        <i data-feather="settings" class="w-7 h-7 text-red-600"></i>
        Admin Settings
      </h1>
      <button id="saveSettings" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg shadow transition">
        <i data-feather="save" class="inline w-5 h-5 mr-1"></i> Save Settings
      </button>
    </div>

    <!-- Content -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Profile Settings -->
      <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-200">
        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <i data-feather="user" class="w-5 h-5 text-red-600"></i>
          Profile Settings
        </h2>
        <form id="profileForm" class="space-y-4">
          <div>
            <label for="adminName">Full Name</label>
            <input type="text" id="adminName" placeholder="Enter full name" />
          </div>
          <div>
            <label for="adminEmail">Email Address</label>
            <input type="email" id="adminEmail" placeholder="admin@example.com" />
          </div>
          <div>
            <label for="adminRole">Role</label>
            <select id="adminRole">
              <option>System Administrator</option>
              <option>Security Officer</option>
              <option>IT Staff</option>
            </select>
          </div>
          <div>
            <label for="adminPassword">Change Password</label>
            <input type="password" id="adminPassword" placeholder="••••••••" />
          </div>
        </form>
      </div>

      <!-- System Settings -->
      <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-200">
        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <i data-feather="cpu" class="w-5 h-5 text-red-600"></i>
          System Configuration
        </h2>
        <form id="systemForm" class="space-y-4">
          <div class="flex items-center justify-between">
            <label for="enableNotifications">Enable Notifications</label>
            <input type="checkbox" id="enableNotifications" class="w-5 h-5 text-red-600" />
          </div>
          <div class="flex items-center justify-between">
            <label for="autoBackup">Auto Backup Logs</label>
            <input type="checkbox" id="autoBackup" class="w-5 h-5 text-red-600" />
          </div>
          <div class="flex items-center justify-between">
            <label for="darkMode">Enable Dark Mode</label>
            <input type="checkbox" id="darkMode" class="w-5 h-5 text-red-600" />
          </div>
          <div>
            <label for="alertLevel">Default Alert Level</label>
            <select id="alertLevel">
              <option>Low</option>
              <option>Medium</option>
              <option>High</option>
              <option>Critical</option>
            </select>
          </div>
          <div>
            <label for="remarks">Remarks</label>
            <textarea id="remarks" rows="3" placeholder="System notes or comments..."></textarea>
          </div>
        </form>
      </div>
    </div>
  </main>

<script src="components/navbar.js"></script>
<script src="components/sidebar.js"></script>
<script>
feather.replace();

// Load saved settings from localStorage
window.addEventListener("DOMContentLoaded", () => {
  const settings = JSON.parse(localStorage.getItem("adminSettings") || "{}");
  document.getElementById("adminName").value = settings.adminName || "";
  document.getElementById("adminEmail").value = settings.adminEmail || "";
  document.getElementById("adminRole").value = settings.adminRole || "System Administrator";
  document.getElementById("adminPassword").value = settings.adminPassword || "";
  document.getElementById("enableNotifications").checked = settings.enableNotifications || false;
  document.getElementById("autoBackup").checked = settings.autoBackup || false;
  document.getElementById("darkMode").checked = settings.darkMode || false;
  document.getElementById("alertLevel").value = settings.alertLevel || "Medium";
  document.getElementById("remarks").value = settings.remarks || "";

  // Apply dark mode if enabled
  if (settings.darkMode) {
    document.body.classList.add("bg-gray-900", "text-white");
    document.querySelectorAll(".bg-white").forEach(el => {
      el.classList.remove("bg-white");
      el.classList.add("bg-gray-800");
    });
  }
});

// Save settings to localStorage
document.getElementById("saveSettings").addEventListener("click", () => {
  const newSettings = {
    adminName: document.getElementById("adminName").value,
    adminEmail: document.getElementById("adminEmail").value,
    adminRole: document.getElementById("adminRole").value,
    adminPassword: document.getElementById("adminPassword").value,
    enableNotifications: document.getElementById("enableNotifications").checked,
    autoBackup: document.getElementById("autoBackup").checked,
    darkMode: document.getElementById("darkMode").checked,
    alertLevel: document.getElementById("alertLevel").value,
    remarks: document.getElementById("remarks").value,
  };

  localStorage.setItem("adminSettings", JSON.stringify(newSettings));
  alert("✅ Settings saved successfully!");
  location.reload(); // Reload to apply dark mode change instantly
});
</script>

</body>
</html>
